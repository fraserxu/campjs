<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>youtube-dl</title>
  </head>
  <style>
    body {
      width: 100%;
      margin: 0 auto;
      text-align: center;
    }
    header {
      margin: 20px auto;
    }
    main {
      position: relative;
      margin: 20px auto;
      width: 60%;
    }
    #status {
      height: 200px;
      width: 100%;
      border: 1px solid #ccc;
      overflow-y: scroll;
      margin: 20px auto;
      text-align: left;
    }
  </style>
  <body>
    <header>youtube-dl</header>

    <main>
      <input id="input" type="text" placeholder="Paste youtube url here" />
      <button id="download">Download</button>
      <div id="status">
      <div>
    </main>

    <script>
      const ipc = require('electron').ipcRenderer

      const downloadButton = document.getElementById('download')
      const urlInput = document.getElementById('input')
      const statusBar = document.getElementById('status')

      downloadButton.addEventListener('click', () => {
        const youtubeUrl = urlInput.value
        ipc.send('start-download', youtubeUrl)
      })

      ipc.on('download-status', (event, arg) => {
        const msgElement = document.createElement('span')
        msgElement.innerText = arg
        statusBar.prepend(msgElement)
      })
    </script>
  </body>
</html>
